<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>CANVAS画时钟</title>
		<style type="text/css">
			canvas{
				display: block;
				margin: auto;
			}
		</style> 
	</head>
	<body>
		<h2 style="text-align: center;">时钟</h2>
		<canvas id="canvas" width="500" height="500">
			您的浏览器不支持canvas标签
		</canvas>
		<script type="text/javascript">
			var canvas  = document.getElementById("canvas");
			var ctx = canvas.getContext("2d");
			
			function drawClock(){
				var now     = new Date(),
					second  = now.getSeconds(),
					minute  = now.getMinutes(),
					hour    = now.getHours();
					hour = hour>12?hour-12:hour;
					hour = hour+minute/60;
					minute = minute+second/60;
				//清除画布
				ctx.clearRect(0,0,500,500);
				//绘制时钟圆盘
				ctx.lineWidth = 10;
				ctx.strokeStyle = "#000";
				ctx.beginPath();
				ctx.arc(250,250,240,0,2*Math.PI,false);
				ctx.stroke();
				ctx.closePath();
				//绘制时针刻度
				for(var i=0;i<12;i++){
					ctx.save();
					ctx.lineWidth=8;
					ctx.strokeStyle="#000";
					ctx.translate(250,250);
					ctx.rotate(i*30*Math.PI/180);
					ctx.beginPath();
					ctx.moveTo(0,-236);
					ctx.lineTo(0,-220);
					ctx.stroke();
					ctx.closePath();
					ctx.restore();				
				}
				//绘制分针刻度
				for(var i=0;i<60;i++){
					ctx.save();
					ctx.lineWidth=5;
					ctx.strokeStyle="#000";
					ctx.translate(250,250);
					ctx.rotate(i*6*Math.PI/180);
					ctx.beginPath();
					ctx.moveTo(0,-236);
					ctx.lineTo(0,-224);
					ctx.stroke();
					ctx.closePath();
					ctx.restore();				
				}
				//绘制时钟数字
					ctx.save();
					ctx.font="30px 'Microsoft Yahei'";
					ctx.fillStyle="#000";
					ctx.textAlign="center";
					ctx.textBaseline="middle";
					ctx.translate(250,250);
					for(var i=1;i<=12;i++){					
						var theta = (i-3)*(2*Math.PI)/12,
							x = 204*Math.cos(theta),
							y = 204*Math.sin(theta);
						ctx.fillText(i,x,y);
					}
					ctx.restore();				
			
				//绘制时针
				ctx.save();
				ctx.lineWidth=7;
				ctx.strokeStyle="#000";
				ctx.translate(250,250);
				ctx.rotate(hour*30*Math.PI/180);
				ctx.beginPath();
				ctx.moveTo(0,-160);
				ctx.lineTo(0,10);
				ctx.stroke();
				ctx.closePath();
				ctx.restore();
				//绘制分针
				ctx.save();
				ctx.lineWidth = 5;
				ctx.strokeStyle="#000";
				ctx.translate(250,250);
				ctx.rotate(minute*6*Math.PI/180);
				ctx.beginPath();
				ctx.moveTo(0,-190);
				ctx.lineTo(0,15);
				ctx.stroke();
				ctx.closePath();
				ctx.restore();
				//绘制秒针
				ctx.save();
				ctx.lineWidth=2;
				ctx.strokeStyle = "red";
				ctx.translate(250,250);
				ctx.rotate(second*6*Math.PI/180);
				ctx.beginPath();
				ctx.moveTo(0,-230);
				ctx.lineTo(0,20);
				ctx.stroke();
				ctx.closePath();
				ctx.stroke();
				ctx.restore();
				//绘制一个圆心
				ctx.lineWidth=2;
				ctx.fillStyle="#212121";
				ctx.strokeStyle="red";
				ctx.beginPath();
				ctx.arc(250,250,7,0,2*Math.PI,false);
				ctx.fill();
				ctx.stroke();
				ctx.closePath();
				//秒针头再画个圆
				ctx.save();
				ctx.lineWidth=2;
				ctx.fillStyle="#5A5B5B";
				ctx.strokeStyle="red";		
				ctx.translate(250,250);
				ctx.rotate(second*6*Math.PI/180);			
				ctx.beginPath();
				ctx.arc(0,-200,4,0,2*Math.PI,false);
				ctx.fill();
				ctx.stroke();
				ctx.closePath();	
				ctx.restore();	
			}
			setInterval(drawClock,1000);
			drawClock();
		</script>
	</body>
</html>
