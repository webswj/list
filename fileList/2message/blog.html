<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>新浪微博效果</title>
		<style type="text/css">
		*{margin: 0;padding: 0;}
		#ul1{
			width:400px;
			height: 400px;
			border: 2px solid black;
			margin: 0 auto;
			overflow: hidden;	
		}
		#ul1 li {
			width: 400px;
			list-style-type: none;
			border-bottom: 1px dashed #CCCCCC;
			filter:alpha(opacity:0);
			opacity:0;
		}
		.div1{
			width: 400px;
			margin: 50px auto;
		}
		</style>
		<script type="text/javascript" src="move2.js"></script>
		<script	type="text/javascript">
			window.onload = function(){
				var oTxt  = document.getElementById('txt1');
				var oBtn  = document.getElementById('btn1');
				var oUl   = document.getElementById('ul1');
				oBtn.onclick = function(){
					var oLi  = document.createElement('li');
					oLi.innerHTML = oTxt.value;
					oTxt.value    = '';
					if(oUl.children.length>0){
						oUl.insertBefore(oLi,oUl.children[0]);						
					}else{
						oUl.appendChild(oLi);
					}
					//运动
					var iHeight = oLi.offsetHeight;
					oLi.style.height = 0;
					move(oLi,{height:iHeight},function(){
						move(oLi,{opacity:100});
					});
				};
			};
		</script>
	</head>
	<body>
		<div class="div1">
			<textarea id ='txt1'cols="50" rows="4"></textarea>
			<button id='btn1'>发布</button>			
		</div>
		<ul id="ul1">
		</ul>
	</body>
</html>
